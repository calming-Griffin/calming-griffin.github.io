<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„æ™ºèƒ½å¯¼èˆª</title>
    <style>
        :root {
            --bg-color: #1a1a1a;
            --card-bg: #2d2d2d;
            --text-color: #e0e0e0;
            --accent-color: #4CAF50;
            --delete-color: #ff4444;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding-top: 50px;
        }

        /* æ—¶é’Ÿ */
        #clock {
            font-size: 3.5rem;
            font-weight: bold;
            margin-bottom: 30px;
            text-shadow: 0 0 10px rgba(0,0,0,0.5);
        }

        /* æœç´¢æ¡† */
        input[type="text"] {
            padding: 12px 20px;
            width: 300px;
            border-radius: 25px;
            border: none;
            outline: none;
            font-size: 16px;
            background: var(--card-bg);
            color: white;
            text-align: center;
            transition: 0.3s;
            margin-bottom: 40px;
        }
        input[type="text"]:focus { width: 400px; box-shadow: 0 0 15px var(--accent-color); }

        /* é“¾æ¥ç½‘æ ¼ */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            width: 80%;
            max-width: 800px;
        }

        /* å•ä¸ªé“¾æ¥å¡ç‰‡ */
        .link-card {
            background-color: var(--card-bg);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            position: relative;
            transition: transform 0.2s, background 0.2s;
            cursor: pointer;
            text-decoration: none;
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 80px;
        }

        .link-card:hover {
            transform: translateY(-5px);
            background-color: #3d3d3d;
        }

        .link-icon { font-size: 24px; margin-bottom: 5px; }
        .link-name { font-size: 14px; font-weight: 500; }

        /* åˆ é™¤æŒ‰é’® (ä»…åœ¨æ‚¬åœæ—¶æ˜¾ç¤º) */
        .delete-btn {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--delete-color);
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            font-size: 12px;
            display: none;
            align-items: center;
            justify-content: center;
            border: none;
            cursor: pointer;
        }
        .link-card:hover .delete-btn { display: flex; }

        /* æ·»åŠ æŒ‰é’® */
        .add-card {
            border: 2px dashed #444;
            background: transparent;
            color: #666;
        }
        .add-card:hover { border-color: var(--accent-color); color: var(--accent-color); }

        /* å¼¹çª—æ ·å¼ */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 15px;
            width: 300px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .modal input { width: auto; margin: 0; text-align: left; }
        .btn-group { display: flex; justify-content: flex-end; gap: 10px; }
        button {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .btn-save { background: var(--accent-color); color: white; }
        .btn-cancel { background: #555; color: white; }

    </style>
</head>
<body>

    <div id="clock">00:00</div>

    <form action="https://www.google.com/search" method="get" target="_blank">
        <input type="text" name="q" placeholder="Google Search..." autocomplete="off">
    </form>

    <div class="grid-container" id="linksGrid">
        </div>

    <div class="modal" id="addModal">
        <div class="modal-content">
            <h3 style="margin-top:0">æ·»åŠ æ–°ç½‘ç«™</h3>
            <input type="text" id="inputName" placeholder="ç½‘ç«™åç§° (å¦‚: çŸ¥ä¹)">
            <input type="text" id="inputUrl" placeholder="ç½‘å€ (å¦‚: https://zhihu.com)">
            <input type="text" id="inputIcon" placeholder="Emoji å›¾æ ‡ (å¦‚: ğŸ“–)">
            <div class="btn-group">
                <button class="btn-cancel" onclick="closeModal()">å–æ¶ˆ</button>
                <button class="btn-save" onclick="saveNewLink()">ä¿å­˜</button>
            </div>
        </div>
    </div>

    <script>
        // 1. é»˜è®¤æ•°æ® (å¦‚æœç¬¬ä¸€æ¬¡æ‰“å¼€ï¼Œæ˜¾ç¤ºè¿™äº›)
        const defaultLinks = [
            { name: "GitHub", url: "https://github.com", icon: "ğŸ™" },
            { name: "Bilibili", url: "https://www.bilibili.com", icon: "ğŸ“º" },
            { name: "ChatGPT", url: "https://chatgpt.com", icon: "ğŸ¤–" },
            { name: "Arxiv", url: "https://arxiv.org", icon: "ğŸ“„" },
        ];

        // 2. åˆå§‹åŒ–ï¼šä»æœ¬åœ°å­˜å‚¨è¯»å–æ•°æ®ï¼Œæ²¡æœ‰åˆ™ä½¿ç”¨é»˜è®¤
        let links = JSON.parse(localStorage.getItem('myLinks')) || defaultLinks;

        const grid = document.getElementById('linksGrid');
        const modal = document.getElementById('addModal');

        // 3. æ¸²æŸ“å‡½æ•°ï¼šæŠŠæ•°æ®å˜æˆ HTML
        function render() {
            grid.innerHTML = '';
            
            // éå†ç”Ÿæˆæ‰€æœ‰å¡ç‰‡
            links.forEach((link, index) => {
                const card = document.createElement('a');
                card.className = 'link-card';
                card.href = link.url;
                // æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œå¦‚æœæ˜¯åˆ é™¤æŒ‰é’®è¢«ç‚¹å‡»ï¼Œé˜»æ­¢è·³è½¬
                card.innerHTML = `
                    <button class="delete-btn" onclick="deleteLink(event, ${index})">âœ•</button>
                    <div class="link-icon">${link.icon}</div>
                    <div class="link-name">${link.name}</div>
                `;
                grid.appendChild(card);
            });

            // æœ€åæ·»åŠ ä¸€ä¸ªâ€œåŠ å·â€å¡ç‰‡
            const addBtn = document.createElement('div');
            addBtn.className = 'link-card add-card';
            addBtn.innerHTML = '<div class="link-icon">â•</div><div class="link-name">Add</div>';
            addBtn.onclick = openModal;
            grid.appendChild(addBtn);
        }

        // 4. åŠŸèƒ½é€»è¾‘
        function openModal() { modal.style.display = 'flex'; }
        function closeModal() { modal.style.display = 'none'; }

        function saveNewLink() {
            const name = document.getElementById('inputName').value;
            let url = document.getElementById('inputUrl').value;
            const icon = document.getElementById('inputIcon').value || 'ğŸ”—';

            if(!name || !url) { alert('è¯·å¡«å†™å®Œæ•´ä¿¡æ¯'); return; }
            if(!url.startsWith('http')) { url = 'https://' + url; } // è‡ªåŠ¨è¡¥å…¨https

            links.push({ name, url, icon });
            save();
            
            // æ¸…ç©ºè¾“å…¥æ¡†å¹¶å…³é—­
            document.getElementById('inputName').value = '';
            document.getElementById('inputUrl').value = '';
            document.getElementById('inputIcon').value = '';
            closeModal();
        }

        function deleteLink(event, index) {
            event.preventDefault(); // é˜»æ­¢ç‚¹å‡»é“¾æ¥è·³è½¬
            if(confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå¿«æ·æ–¹å¼å—ï¼Ÿ')) {
                links.splice(index, 1);
                save();
            }
        }

        // ä¿å­˜åˆ° LocalStorage å¹¶é‡æ–°æ¸²æŸ“
        function save() {
            localStorage.setItem('myLinks', JSON.stringify(links));
            render();
        }

        // æ—¶é’Ÿ
        setInterval(() => {
            const now = new Date();
            document.getElementById('clock').innerText = 
                String(now.getHours()).padStart(2,'0') + ':' + String(now.getMinutes()).padStart(2,'0');
        }, 1000);

        // å¯åŠ¨ï¼
        render();
    </script>
</body>
</html>
